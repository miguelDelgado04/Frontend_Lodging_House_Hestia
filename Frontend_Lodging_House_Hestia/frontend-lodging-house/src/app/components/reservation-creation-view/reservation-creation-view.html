<!-- Top bar minimal -->
<nav class="topbar">
  <div class="container topbar__row">
    <a class="brand" href="#">
      <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
        <path d="M12 2l8 10-8 10L4 12 12 2z" fill="#2d73ff"/>
      </svg>
      <span class="brand__name">Hestia</span>
    </a>

    <div class="top-right">
      <a class="muted small" href="#">List your property</a>
      <button class="icon-btn" aria-label="Menu">
        <svg viewBox="0 0 24 24" width="18" height="18">
          <path fill="currentColor" d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/>
        </svg>
      </button>
    </div>
  </div>
</nav>

<main class="page">
  <div class="container">
    <header class="page-head">
      <h1 class="title">Reserve your stay</h1>

      <div class="rating">
        <svg viewBox="0 0 24 24" class="star" aria-hidden="true">
          <path fill="currentColor" d="M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
        </svg>
        <span>{{ rating }}</span>
        <span class="muted small">({{ reviews }} reviews)</span>
      </div>
    </header>

    <section class="layout">
      <!-- Calendar card -->
      <div class="card">
        <div class="card__head between">
          <span class="card__title">Select dates</span>
          <div class="month-nav">
            <button class="nav-btn" (click)="prevMonth()" aria-label="Previous month">‹</button>
            <strong>{{ monthLabel }}</strong>
            <button class="nav-btn" (click)="nextMonth()" aria-label="Next month">›</button>
          </div>
        </div>

        <div class="calendar">
          <div class="cal-row cal-dow">
            <span>S</span><span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span>
          </div>

          <div class="cal-body">
            <div class="cal-row" *ngFor="let wk of grid">
              <button
                class="day"
                *ngFor="let c of wk"
                [class.blank]="!c.date || !c.inCurrentMonth"
                [class.today]="c.isToday"
                [class.start]="c.isStart"
                [class.end]="c.isEnd"
                [class.in-range]="c.inRange"
                [class.disabled]="c.disabled"
                (click)="selectDate(c)"
                [disabled]="!c.date || !c.inCurrentMonth || c.disabled"
              >
                <span>{{ c.label }}</span>
              </button>
            </div>
          </div>

          <div class="sel-footer">
            <div class="muted">
              <strong>Check-in:</strong>
              <span>{{ checkIn ? (checkIn | date:'MMM d, y') : '—' }}</span>
              &nbsp; • &nbsp;
              <strong>Check-out:</strong>
              <span>{{ checkOut ? (checkOut | date:'MMM d, y') : '—' }}</span>
              &nbsp; • &nbsp;
              <strong>Nights:</strong> {{ nights }}
            </div>
          </div>
        </div>
      </div>

      <!-- Right column -->
      <div class="right-col">
        <!-- Guests -->
        <div class="card">
          <div class="card__head">
            <span class="card__title">Guests</span>
          </div>

          <div class="row between v-center">
            <div class="label">Adults</div>
            <div class="stepper">
              <button (click)="decAdults()">−</button>
              <span>{{ adults }}</span>
              <button (click)="incAdults()">+</button>
            </div>
          </div>

          <div class="row between v-center">
            <div class="label">Children</div>
            <div class="stepper">
              <button (click)="decChildren()">−</button>
              <span>{{ children }}</span>
              <button (click)="incChildren()">+</button>
            </div>
          </div>
        </div>

        <!-- Price details -->
        <div class="card">
          <div class="card__head">
            <span class="card__title">Price details</span>
          </div>

          <div class="price-row">
            <span>\${{ pricePerNight }} × {{ nights }} {{ nights === 1 ? 'night' : 'nights' }}</span>
            <span>\${{ subtotal }}</span>
          </div>
          <div class="price-row muted-row">
            <span>Cleaning fee</span>
            <span>\${{ nights ? cleaningFee : 0 }}</span>
          </div>
          <div class="price-row muted-row">
            <span>Service fee</span>
            <span>\${{ nights ? serviceFee : 0 }}</span>
          </div>

          <hr class="sep" />

          <div class="price-row total">
            <span>Total (USD)</span>
            <span>\${{ total }}</span>
          </div>
        </div>

        <button class="btn btn--primary btn--block" (click)="reserve()">Reserve</button>
      </div>
    </section>
  </div>
</main>

