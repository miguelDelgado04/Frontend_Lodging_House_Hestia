<!-- ===== NAVBAR LUX STAY ===== -->
<nav class="topbar" role="navigation" aria-label="Barra principal">
  <div class="container topbar__row">
    <!-- Marca -->
    <a class="brand" routerLink="/applicationMainViewComponent">
      <span class="brand__logo" aria-hidden="true">
        <svg viewBox="0 0 24 24" width="18" height="18">
          <path d="M4 12l8-9 8 9-8 9-8-9z" fill="#111827" />
        </svg>
      </span>
      <span class="brand__name">Hestia</span>
    </a>

    <!-- Navegación central -->
    <ul class="nav-center" role="list">
      <li><a routerLink="/applicationMainViewComponent" routerLinkActive="is-active">Inicio</a></li>
      <li><a routerLink="/applicationMainViewComponent" routerLinkActive="is-active">Explorar</a></li>
      <li><a routerLink="/reservationHistoryViewComponent" routerLinkActive="is-active">Mensajes</a></li>
    </ul>

    <!-- Acciones derecha -->
    <div class="topbar__right">
      <label class="top-search">
        <svg viewBox="0 0 24 24" class="top-search__ic" aria-hidden="true">
          <path fill="currentColor"
            d="M15.5 14h-.79l-.28-.27A6.47 6.47 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5Zm-6 0A4.5 4.5 0 1 1 14 9.5 4.5 4.5 0 0 1 9.5 14Z" />
        </svg>
        <input type="search" placeholder="Buscar" aria-label="Buscar" />
      </label>

      <button class="icon-btn" aria-label="Idioma">
        <svg viewBox="0 0 24 24" class="icon">
          <path fill="currentColor"
            d="M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2Zm7.93 9h-3.18a15.3 15.3 0 0 0-1.06-5.12A8.013 8.013 0 0 1 19.93 11Z" />
        </svg>
      </button>

      <button class="avatar-btn" aria-label="Abrir perfil">
        <span class="avatar-fallback">L</span>
      </button>
    </div>
  </div>
</nav>

<!-- ===== CONTENIDO ===== -->
<main class="page">
  <div class="container">
    <!-- Header -->
    <header class="page-head">
      <h1 class="title">Viajes</h1>
    </header>

    <!-- Tabs -->
    <nav class="tabs" aria-label="Filtro de viajes">
      <button class="tab" [class.is-active]="tab==='upcoming'" (click)="tab='upcoming'">Próximos</button>
      <button class="tab" [class.is-active]="tab==='past'" (click)="tab='past'">Anteriores</button>
    </nav>

    <!-- Bloque tabla -->
    <section class="block">
      <div class="block-head">
        <h2 class="h2">Reservas (vista de tabla)</h2>
        <div class="view-actions">
          <button class="ghost" aria-label="Vista de lista">
            <svg viewBox="0 0 24 24" class="ic">
              <path fill="currentColor" d="M3 5h18v3H3zm0 6h18v3H3zm0 6h18v3H3z" />
            </svg>
          </button>
          <button class="ghost" aria-label="Vista de tarjetas">
            <svg viewBox="0 0 24 24" class="ic">
              <path fill="currentColor"
                d="M3 3h9v9H3zm0 9h9v9H3zm9-9h9v9h-9zm0 9h9v9h-9z" />
            </svg>
          </button>
        </div>
      </div>

      <div class="table" *ngIf="list.length; else emptyState">
        <div class="row th">
          <div>Propiedad</div>
          <div>Fechas</div>
          <div>Estado</div>
          <div class="ta-right">Acción</div>
        </div>

        <div class="row" *ngFor="let r of list">
          <div>{{ r.property }}</div>
          <div>{{ fmtRange(r) }}</div>
          <div>
            <span class="badge"
                  [class.badge--yellow]="r.status==='pending'"
                  [class.badge--green]="r.status==='confirmed'"
                  [class.badge--red]="r.status==='cancelled'">
              {{ badge(r) }}
            </span>
          </div>
          <div class="ta-right">
            <a *ngIf="r.status!=='cancelled'" class="link">Cancelar</a>
            <a *ngIf="r.status==='cancelled'" class="link">Ver detalles</a>
          </div>
        </div>
      </div>

      <ng-template #emptyState>
        <p class="muted empty">No hay reservas en esta categoría.</p>
      </ng-template>
    </section>

    <!-- Bloque tarjetas -->
    <section class="block">
      <h2 class="h2">Reservas (vista de tarjetas)</h2>

      <div class="cards" *ngIf="list.length; else emptyCards">
        <article class="card" *ngFor="let r of list">
          <div class="card__media">
            <img [src]="r.image" [alt]="r.property" />
          </div>

          <div class="card__body">
            <h3 class="card__title">Reserva en {{ r.property }}</h3>
            <div class="meta">
              <span class="badge"
                    [class.badge--yellow]="r.status==='pending'"
                    [class.badge--green]="r.status==='confirmed'"
                    [class.badge--red]="r.status==='cancelled'">
                {{ badge(r) }}
              </span>
              <span class="muted">•</span>
              <span class="muted">{{ fmtRange(r) }}</span>
            </div>
          </div>

          <div class="card__actions" *ngIf="r.status==='cancelled'">
            <button class="btn btn--soft">Ver Detalles</button>
          </div>
        </article>
      </div>

      <ng-template #emptyCards>
        <p class="muted empty">No hay reservas para mostrar.</p>
      </ng-template>
    </section>
  </div>
</main>
